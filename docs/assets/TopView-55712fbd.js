import{d as $,c as h,a,B as g,t as v,b as _,u as d,o as T,e as b,g as S,C as i,n as E,h as C,l as F,f as M,v as A,s as I,m as R,w as N,F as B}from"./index-8529961b.js";import{_ as k}from"./SelectboxComponent.vue_vue_type_script_setup_true_lang-09a865c7.js";import{u as K,_ as U}from"./ModalComponent.vue_vue_type_script_setup_true_lang-54d641a5.js";import{c as P,d as V,e as q}from"./account-2c35004b.js";import"./mosaic-2acaed25.js";import"./namespace-fd566c76.js";const z={class:"row my-2"},D={class:"col-md-6 col-form-label"},H={class:"text-black-50 small"},j={class:"col-md-6"},G=$({__name:"NetworkTypeAreaComponent",props:{value:null,disabled:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const c=e=>{const l=e.target;t("update:value",Number(l.value))};return(e,l)=>(T(),h("div",z,[a("label",D,[g(v(e.$t("settings.netType"))+" ",1),a("p",H,v(e.$t("settings.netTypeSupplement")),1)]),a("div",j,[_(k,{value:o.value,onChange:c,attributes:{ariaLabel:"network-type",disabled:o.disabled},items:[{key:"MAIN",value:d(b.NetworkType).MAIN_NET,display:e.$t("networkTypes.main")},{key:"TEST",value:d(b.NetworkType).TEST_NET,display:e.$t("networkTypes.test")}]},null,8,["value","attributes","items"])])]))}}),J={class:"row my-2"},Q={class:"col-md-6 col-form-label"},W={class:"text-black-50 small"},X=a("br",null,null,-1),Y={class:"text-danger"},Z={class:"col-md-6"},x={class:"text-center"},ee=["href"],te=$({__name:"TestModeAreaComponent",props:{value:{type:Boolean},disabled:{type:Boolean},address:null},emits:["update:value"],setup(o,{emit:t}){const e=S(o.value?i.STR_SELECT_ON:i.STR_SELECT_OFF),l=()=>{t("update:value",e.value===i.STR_SELECT_ON)};return(s,n)=>(T(),h("div",J,[a("label",Q,[g(v(s.$t("settings.testMode"))+" ",1),a("p",W,[g(v(s.$t("settings.testModeSupplement")),1),X,a("span",Y,v(s.$t("settings.testModeImportant")),1)])]),a("div",Z,[_(k,{value:e.value,"onUpdate:value":n[0]||(n[0]=u=>e.value=u),onChange:l,attributes:{ariaLabel:"test-mode",disabled:o.disabled},items:[{key:d(i).STR_SELECT_ON,value:d(i).STR_SELECT_ON,display:s.$t("settings.selectOn")},{key:d(i).STR_SELECT_OFF,value:d(i).STR_SELECT_OFF,display:s.$t("settings.selectOff")}]},null,8,["value","attributes","items"]),a("div",x,[a("a",{type:"button",class:E(["btn btn-secondary my-2",{"btn-success":e.value===d(i).STR_SELECT_ON,disabled:e.value!==d(i).STR_SELECT_ON}]),href:"https://testnet.symbol.tools/?recipient="+o.address+"&amount=100",target:"_blank"},v(s.$t("settings.accessFaucet")),11,ee)])])]))}}),se={class:"input-group"},ae=["value","type","placeholder","disabled"],O=$({__name:"InputPasswordComponent",props:{placeholder:null,value:null,disabled:{type:Boolean},isTestMode:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const c=o,e=S(!1);function l(){c.disabled===!1&&(e.value=!e.value)}const s=n=>{const u=n.target;t("update:value",u.value)};return(n,u)=>(T(),h("div",se,[a("input",{value:o.value,type:e.value?"text":"password",onChange:s,class:"form-control",autocomplete:"off",autocorrect:"off",placeholder:o.placeholder,disabled:o.disabled||o.isTestMode},null,40,ae),a("i",{class:E(["bi input-group-text",{"bi-eye":!e.value,"bi-eye-slash":e.value}]),onClick:l},null,2)]))}}),le={class:"row my-2"},oe={class:"col-md-6 col-form-label"},ne={class:"text-black-50 small"},ue=a("br",null,null,-1),ie={class:"text-danger"},de={class:"col-md-6"},re=$({__name:"PrivateKeyAreaComponent",props:{value:null,disabled:{type:Boolean},isTestMode:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const c=e=>{const l=e.target;t("update:value",l.value)};return(e,l)=>(T(),h("div",le,[a("label",oe,[g(v(e.$t("settings.secret"))+" ",1),a("p",ne,[g(v(e.$t("settings.secretSupplement")),1),ue,a("span",ie,v(e.$t("settings.secretImportant")),1)])]),a("div",de,[o.disabled?(T(),C(O,{key:1,value:"",disabled:o.disabled,placeholder:e.$t("settings.secretSSSOn")},null,8,["disabled","placeholder"])):(T(),C(O,{key:0,value:o.value,"is-test-mode":o.isTestMode,onChange:c,placeholder:e.$t("writer.pleaseInputItem",{item:e.$t("settings.secret")})},null,8,["value","is-test-mode","placeholder"]))])]))}}),ve={class:"row my-2"},ce={class:"col-md-6 col-form-label"},pe={class:"text-black-50 small"},me=a("br",null,null,-1),Se={class:"text-danger"},_e={class:"col-md-6"},Te=$({__name:"UseSSSAreaComponent",props:{value:{type:Boolean},disabled:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const e=S(o.value?i.STR_SELECT_ON:i.STR_SELECT_OFF),l=()=>{t("update:value",e.value===i.STR_SELECT_ON)};return(s,n)=>(T(),h("div",ve,[a("label",ce,[g(v(s.$t("settings.useSSS"))+" ",1),a("p",pe,[g(v(s.$t("settings.useSSSSupplement")),1),me,a("span",Se,v(s.$t("settings.useSSSImportant")),1)])]),a("div",_e,[_(k,{value:e.value,"onUpdate:value":n[0]||(n[0]=u=>e.value=u),onChange:l,attributes:{ariaLabel:"use-sss",disabled:o.disabled},items:[{key:d(i).STR_SELECT_ON,value:d(i).STR_SELECT_ON,display:s.$t("settings.selectOn")},{key:d(i).STR_SELECT_OFF,value:d(i).STR_SELECT_OFF,display:s.$t("settings.selectOff")}]},null,8,["value","attributes","items"])])]))}}),ye={class:"container animate__animated animate__fadeIn"},be={class:"row my-2"},ge={class:"col text-center"},fe=["disabled"],Oe=$({__name:"TopView",setup(o){const t=F(),c=M(),e=A();K();const l=S(c.networkType),s=S(t.useSSS),n=S(t.isTestMode),u=S(t.privateKey),w=I(()=>c.networkType!==l.value||t.useSSS!==s.value||s.value===!1&&(t.isTestMode!==n.value||t.privateKey!==u.value)),y=S(!1),f=S("privateKeyInvalid");R(()=>{l.value=c.networkType,s.value=t.useSSS,n.value=t.isTestMode,u.value=t.privateKey}),N(s,()=>{s.value&&(n.value=!1,l.value=e.networkType)}),N(n,()=>{n.value&&(l.value=b.NetworkType.TEST_NET,u.value=t.testAccount.privateKey)});const L=async()=>{const m="setting apply:";if(t.logger.debug(m,"start"),s.value?(l.value=e.networkType,u.value=""):n.value&&(l.value=b.NetworkType.TEST_NET,u.value=t.testAccount.privateKey),l.value!==b.NetworkType.MAIN_NET&&l.value!==b.NetworkType.TEST_NET){t.logger.error(m,"input network type invaild."),f.value="networkTypeInvalid",y.value=!0;return}if(e.sssLinked===!1&&s.value===!0){t.logger.error(m,"input use sss invaild."),f.value="useSSSInvalid",y.value=!0;return}if(s.value===!1){const r=P(u.value,l.value);if(typeof r>"u"){t.logger.error(m,"input private key invaild."),f.value="privateKeyInvalid",y.value=!0;return}if(n.value){const p=await V(r.address.plain());if(typeof p>"u"){y.value=!0,f.value="getFausetFailed";return}if(p.publicKeyHeight.equals(b.UInt64.fromUint(0))&&!await q(r)){y.value=!0,f.value="getFausetFailed";return}}t.account=r}c.networkType=l.value,t.useSSS=s.value,t.isTestMode=n.value,t.privateKey=u.value,t.logger.debug(m,"end")};return(m,r)=>(T(),h(B,null,[a("section",ye,[_(Te,{value:s.value,"onUpdate:value":r[0]||(r[0]=p=>s.value=p),disabled:!d(e).sssLinked},null,8,["value","disabled"]),_(te,{value:n.value,"onUpdate:value":r[1]||(r[1]=p=>n.value=p),disabled:s.value,address:d(t).testAccount.address.plain()},null,8,["value","disabled","address"]),_(G,{value:l.value,"onUpdate:value":r[2]||(r[2]=p=>l.value=p),disabled:s.value||n.value},null,8,["value","disabled"]),_(re,{value:u.value,"onUpdate:value":r[3]||(r[3]=p=>u.value=p),disabled:s.value,"is-test-mode":n.value},null,8,["value","disabled","is-test-mode"]),a("div",be,[a("div",ge,[a("button",{type:"button",class:E(["btn btn-primary",{"btn-secondary":!d(w)}]),onClick:L,disabled:!d(w)},v(m.$t("settings.apply")),11,fe)])])]),_(U,{"is-shown":y.value,"onUpdate:isShown":r[4]||(r[4]=p=>y.value=p),title:m.$t("settings.errorTitle"),message:m.$t("settings.errorMessage."+f.value)},null,8,["is-shown","title","message"])],64))}});export{Oe as default};
