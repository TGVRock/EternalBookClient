import{l as u,f as d,e as o,C as p}from"./index-528b4f6d.js";const r=u(),n=d();function f(e){try{new o.MosaicId(e)}catch{return!1}return!0}async function l(e){const a="get mosaic info:";if(typeof n.mosaicRepo>"u"){r.logger.error(a,"repository undefined.");return}if(!f(e)){r.logger.error(a,"invalid mosaic.",e);return}const t=new o.MosaicId(e);return await n.mosaicRepo.getMosaic(t).toPromise()}async function y(e){return await c({ownerAddress:e,pageSize:100,pageNumber:1})}async function c(e){const a="search mosaics:";if(r.logger.debug(a,"start","page:",e.pageNumber||p.STR_NA),typeof n.mosaicRepo>"u")return r.logger.error(a,"repository undefined."),[];const t=await n.mosaicRepo.search(e).toPromise();return typeof t>"u"?(r.logger.error(a,"search failed."),[]):t.isLastPage?t.data:(e.pageNumber=typeof e.pageNumber>"u"?2:e.pageNumber+1,t.data.concat(await c(e)))}function M(e,a,t){const s=o.MosaicNonce.createRandom(),i=o.MosaicDefinitionTransaction.create(o.Deadline.create(n.epochAdjustment),s,o.MosaicId.createFromNonce(s,e.address),t,0,o.UInt64.fromUint(0),n.networkType),g=o.MosaicSupplyChangeTransaction.create(o.Deadline.create(n.epochAdjustment),i.mosaicId,o.MosaicSupplyChangeAction.Increase,o.UInt64.fromUint(a),n.networkType);return[i.toAggregate(e.publicAccount),g.toAggregate(e.publicAccount)]}export{l as a,M as c,y as g,f as i};
