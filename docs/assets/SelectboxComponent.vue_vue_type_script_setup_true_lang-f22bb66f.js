import{k as I,l as A,f as C,m as E,g,w as S,d as M,c as p,F as x,r as K,p as T,o as y,t as z}from"./index-398f9ed7.js";import{c as F,i as _,g as q,a as B}from"./account-09fc7f3f.js";import{g as L}from"./mosaic-c3c1dfdc.js";import{g as b}from"./namespace-58b3b6e6.js";const G=I("account",()=>{const e=A(),f=C(),m=E(),u=g(void 0),a=g(void 0),c=g(void 0),l=g([]),o=g([]);return S([()=>e.privateKey,()=>e.useSSS],()=>{const t="account store watch (settings):";if(e.logger.debug(t,"start"),e.useSSS===!0)e.addressStr=m.address;else if(e.privateKey.length>0){if(e.logger.debug(t,"private key account."),u.value=F(e.privateKey,f.networkType),typeof u.value>"u"){e.logger.error(t,"create account failed.");return}e.addressStr=u.value.address.plain()}e.logger.debug(t,"end")},{immediate:!0}),S(()=>e.addressStr,()=>{const t="account store watch (address):";if(e.logger.debug(t,"start",e.addressStr),a.value=void 0,c.value=void 0,!_(e.addressStr)){e.logger.error(t,"address invalid.");return}q(e.addressStr).then(r=>{a.value=r}).catch(r=>{e.logger.error(t,"get account info failed.",r),a.value=void 0}),B(e.addressStr).then(r=>{c.value=r}).catch(r=>{e.logger.error(t,"get multisig info failed.",r),c.value=void 0}),e.logger.debug(t,"end")},{immediate:!0}),S(a,()=>{const t="account store watch (account info):";if(e.logger.debug(t,"start",a.value),l.value=[],o.value=[],typeof a.value>"u"){e.logger.error(t,"account info invalid.");return}const r=a.value.address;L(r).then(async n=>{const d=[];n.forEach(s=>{d.push(s.id)}),b(d).then(s=>{d.forEach(v=>{const i=s.find(w=>w.mosaicId.equals(v)),k=typeof i>"u"||i.names.length===0?"":i==null?void 0:i.names[0].name;l.value.push({id:v,alias:k})})}).catch(s=>{e.logger.error(t,"get mosaics names failed.",s),o.value=[]})}).catch(n=>{e.logger.error(t,"get mosaics failed.",n),l.value=[]});const h=[];a.value.mosaics.forEach(n=>{h.push(n.id)}),b(h).then(n=>{h.forEach(d=>{const s=n.find(i=>i.mosaicId.equals(d)),v=typeof s>"u"||s.names.length===0?"":s==null?void 0:s.names[0].name;o.value.push({id:d,alias:v})})}).catch(n=>{e.logger.error(t,"get mosaics names failed.",n),o.value=[]}),e.logger.debug(t,"end")},{immediate:!0}),{accountInfo:a,multisigInfo:c,createdMosaics:l,owendMosaics:o}}),P=["value"],$=["value"],H=M({__name:"SelectboxComponent",props:{attributes:null,items:null,value:null,size:null},emits:["update:value"],setup(e,{emit:f}){const m=e,u=g("form-select");switch(m.size){case"sm":case"md":case"lg":case"xl":u.value+="-"+m.size;break}const a=c=>{const l=c.target;f("update:value",l.value)};return(c,l)=>(y(),p("select",T(e.attributes,{value:e.value,onChange:a,class:u.value}),[(y(!0),p(x,null,K(e.items,o=>(y(),p("option",{key:`${e.attributes.ariaLabel}-${o.key}`,value:o.value},z(o.display),9,$))),128))],16,P))}});export{H as _,G as u};
