import{d as $,o as m,c as v,a as o,t as h,b as c,u as a,s as d,l as E,z as y,C as f,T as A,g as C,A as F,w as D,h as w,n as M,i as T}from"./index-14e42fd2.js";import{u as k}from"./WriteMosaic-fca5dd4e.js";import{g as N,_ as B}from"./DataAreaComponent.vue_vue_type_script_setup_true_lang-b425d508.js";import{_ as R}from"./SelectboxComponent.vue_vue_type_script_setup_true_lang-c0684025.js";import{M as I}from"./MosaicInfoRowComponent-fa62dd86.js";import{a as L,_ as X}from"./TextAreaComponent.vue_vue_type_script_setup_true_lang-c80b8f0f.js";import{d as b,e as P}from"./eternalbookprotocol-ae71e651.js";import{u as U,g as O}from"./WriteOnChainData-f29c8ea4.js";import{b as V}from"./account-6c6bb17e.js";import"./mosaic-e357916e.js";import"./namespace-c02a817d.js";const z={class:"row my-2"},K={class:"col-md-3 col-form-label"},Z={class:"col-md-9"},H=$({__name:"FeeSelectboxComponent",props:{value:null},emits:["update:value"],setup(i,{emit:l}){const t=e=>{const s=e.target;l("update:value",s.value)};return(e,s)=>(m(),v("div",z,[o("label",K,h(e.$t("preview.fee")),1),o("div",Z,[c(R,{value:i.value,onChange:t,attributes:{ariaLabel:"tx-fee"},items:[{key:"default",value:a(d).Default,display:e.$t("preview.feeDefault")},{key:"fast",value:a(d).Fast,display:e.$t("preview.feeFast")},{key:"average",value:a(d).Average,display:e.$t("preview.feeAverage")},{key:"slow",value:a(d).Slow,display:e.$t("preview.feeSlow")},{key:"slowest",value:a(d).Slowest,display:e.$t("preview.feeSlowest")}]},null,8,["value","items"])])]))}}),W={class:"row"},Y={class:"col-12"},j={class:"input-group justify-content-around"},q={class:"input-group-btn"},G={class:"btn btn-primary"},J={id:"buttonSelectFileText"},Q=$({__name:"FileSelectButtonComponent",props:{base64:null},emits:["update:base64"],setup(i,{emit:l}){const t=e=>{const s=e.target.files||null;if(s===null||typeof s.length>"u"||s.length<1)return;const u=new FileReader;u.onload=()=>{l("update:base64",u.result)},u.readAsDataURL(s[0])};return(e,s)=>(m(),v("div",W,[o("div",Y,[o("div",j,[o("label",q,[o("div",G,[o("span",J,h(e.$t("writer.fileSelect")),1),o("input",{type:"file",class:"d-none",onChange:t},null,32)])])])])]))}}),x={class:"row my-2"},ee={class:"col-md-3 col-form-label"},te={class:"col-md-9"},ae=["value","placeholder","rows"],se=$({__name:"TextareaAreaComponent",props:{itemName:null,placeholder:null,rows:null,value:null},emits:["update:value"],setup(i,{emit:l}){const t=e=>{const s=e.target;l("update:value",s.value)};return(e,s)=>(m(),v("div",x,[o("label",ee,h(i.itemName),1),o("div",te,[o("textarea",{class:"form-control",value:i.value,onChange:t,placeholder:i.placeholder,rows:i.rows},null,40,ae)])]))}}),le={class:"row my-2"},oe={class:"col-lg-6 align-self-center text-center"},ne={class:"col-lg-6 align-self-center"},ie={key:0,class:"my-2"},re={key:1,class:"animate__animated animate__fadeIn my-2"},ce=$({__name:"InputAreaComponent",setup(i){const l=E(),t=U(),e=y(()=>Math.ceil(t.dataBase64.length/f.TX_DATASIZE_PER_TRANSFER)),s=y(()=>Math.ceil(e.value/f.TX_DATA_TX_NUM)),u=y(()=>(t.dataBase64.length+e.value*f.TX_OVERHEAD_SIZE_PER_INNER+s.value*(f.TX_DATASIZE_PER_TRANSFER+f.TX_OVERHEAD_SIZE_PER_INNER))*(r.get(l.feeKind)||f.TX_FEE_MULTIPLIER_DEFAULT)*Math.pow(10,-1*f.TX_XYM_DIVISIBILITY)),r=new Map([[d.Default,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Fast,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Average,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Slow,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Slowest,f.TX_FEE_MULTIPLIER_DEFAULT]]);return O().then(n=>{typeof n>"u"||(r.set(d.Fast,b(n,d.Fast)),r.set(d.Average,b(n,d.Average)),r.set(d.Slow,b(n,d.Slow)),r.set(d.Slowest,b(n,d.Slowest)))}),(n,p)=>(m(),v("section",le,[o("div",oe,[c(B,{base64:a(t).dataBase64,mime:a(N)(a(t).dataBase64)},null,8,["base64","mime"])]),o("div",ne,[c(L,{"item-name":n.$t("preview.title"),placeholder:n.$t("writer.pleaseInputItem",{item:n.$t("preview.title")}),value:a(t).title,"onUpdate:value":p[0]||(p[0]=_=>a(t).title=_)},null,8,["item-name","placeholder","value"]),c(se,{"item-name":n.$t("preview.message"),placeholder:n.$t("writer.pleaseInputItem",{item:n.$t("preview.message")}),rows:5,value:a(t).message,"onUpdate:value":p[1]||(p[1]=_=>a(t).message=_)},null,8,["item-name","placeholder","value"]),c(H,{value:a(l).feeKind,"onUpdate:value":p[2]||(p[2]=_=>a(l).feeKind=_)},null,8,["value"]),c(Q,{base64:a(t).dataBase64,"onUpdate:base64":p[3]||(p[3]=_=>a(t).dataBase64=_)},null,8,["base64"]),a(s)===0?(m(),v("div",ie,[o("h6",null,h(n.$t("preview.info")),1),o("p",null,h(n.$t("preview.notice")),1)])):(m(),v("div",re,[o("h6",null,h(n.$t("preview.info")),1),c(I,{title:n.$t("preview.dataSize"),data:a(P)(a(t).dataBase64.length)+" "+n.$t("preview.byte")},null,8,["title","data"]),c(I,{title:n.$t("preview.entire"),data:a(s).toString()},null,8,["title","data"]),c(I,{title:n.$t("preview.predictFee"),data:a(u).toFixed(6)+" xym"},null,8,["title","data"])]))])]))}}),de=$({__name:"RelatedMosaicAreaComponent",setup(i){const l=U();return(t,e)=>(m(),v("section",null,[c(X,{value:a(l).relatedMosaicIdStr,"onUpdate:value":e[0]||(e[0]=s=>a(l).relatedMosaicIdStr=s)},null,8,["value"]),c(A,{class:"text-center","next-route-name":"WriteOnChainData","item-name":t.$t("writer.writeOnChain")},null,8,["item-name"])]))}}),me={class:"form-check"},ue=["value","id"],pe=["for"],S=$({__name:"CheckboxComponent",props:{id:null,itemName:null,checked:{type:Boolean}},emits:["update:checked"],setup(i,{emit:l}){const e=C("cb"+i.id),s=u=>{const r=u.target;l("update:checked",r.checked)};return(u,r)=>(m(),v("div",me,[o("input",{type:"checkbox",value:i.checked,onChange:s,class:"form-check-input",id:e.value},null,40,ue),o("label",{class:"form-check-label",for:e.value},h(i.itemName),9,pe)]))}}),_e={class:"row my-2"},ve={class:"col-md-3 col-form-label"},fe={class:"col-md-9 col-form-label"},he={class:"row row-cols-2"},$e={class:"col-md-3"},ge={class:"col-md-3"},we={class:"col-md-3"},be={class:"col-md-3"},Se=$({__name:"MosaicFlagAreaComponent",setup(i){const l=k();return(t,e)=>(m(),v("div",_e,[o("div",ve,[o("label",null,h(t.$t("writer.mosaicFlags")),1)]),o("div",fe,[o("div",he,[o("div",$e,[c(S,{id:"SupplyMutable","item-name":t.$t("mosaicInfo.supplyMutable"),checked:a(l).mosaicFlags.supplyMutable,"onUpdate:checked":e[0]||(e[0]=s=>a(l).mosaicFlags.supplyMutable=s)},null,8,["item-name","checked"])]),o("div",ge,[c(S,{id:"Transferable","item-name":t.$t("mosaicInfo.transferable"),checked:a(l).mosaicFlags.transferable,"onUpdate:checked":e[1]||(e[1]=s=>a(l).mosaicFlags.transferable=s)},null,8,["item-name","checked"])]),o("div",we,[c(S,{id:"Restrictable","item-name":t.$t("mosaicInfo.restrictable"),checked:a(l).mosaicFlags.restrictable,"onUpdate:checked":e[2]||(e[2]=s=>a(l).mosaicFlags.restrictable=s)},null,8,["item-name","checked"])]),o("div",be,[c(S,{id:"Revokable","item-name":t.$t("mosaicInfo.revokable"),checked:a(l).mosaicFlags.revokable,"onUpdate:checked":e[3]||(e[3]=s=>a(l).mosaicFlags.revokable=s)},null,8,["item-name","checked"])])])])]))}}),ke={class:"row my-2"},ye={class:"col-md-3 col-form-label"},Ie={class:"col-md-9"},Ce=["value","placeholder","min"],Me=$({__name:"NumberAreaComponent",props:{itemName:null,placeholder:null,value:null,min:null},emits:["update:value"],setup(i,{emit:l}){const t=e=>{const s=e.target;l("update:value",Number(s.value))};return(e,s)=>(m(),v("div",ke,[o("label",ye,h(i.itemName),1),o("div",Ie,[o("input",{type:"number",value:i.value,onChange:t,class:"form-control",placeholder:i.placeholder,min:i.min},null,40,Ce)])]))}}),Te=$({__name:"CreateMosaicAreaComponent",setup(i){const l=k();return(t,e)=>(m(),v("section",null,[c(Se),c(Me,{"item-name":t.$t("mosaicInfo.supply"),placeholder:t.$t("writer.pleaseInputItem",{item:t.$t("mosaicInfo.supply")}),value:a(l).amount,"onUpdate:value":e[0]||(e[0]=s=>a(l).amount=s),min:1},null,8,["item-name","placeholder","value"]),c(A,{class:"text-center","next-route-name":"CreateMosaic","item-name":t.$t("writer.createMosaic")},null,8,["item-name"])]))}}),Ee={class:"row my-2"},Ae={class:"col-md-3 col-form-label"},Fe={class:"col-md-9"},Re=$({__name:"SSSLinkedSelectAreaComponent",setup(i){const l=E(),t=F(),e=k(),s=C([]);return D(()=>[t.sssLinked,l.useSSS],async()=>{var p;const u="sss linked selectbox area watch:";l.logger.debug(u,"start",{sssLinked:t.sssLinked,sssUse:l.useSSS});const r=t.sssLinked&&l.useSSS?t.address:((p=l.account)==null?void 0:p.address.plain())||"";s.value.push({key:r,value:r,display:r}),e.ownerAddress=r;const n=await V(r);for(let _=0;_<n.length;_++)s.value.push({key:n[_].plain(),value:n[_].plain(),display:"(multisig) "+n[_].plain()});l.logger.debug(u,"end")},{immediate:!0}),(u,r)=>(m(),v("div",Ee,[o("label",Ae,h(u.$t("mosaicInfo.address")),1),o("div",Fe,[c(R,{value:a(e).ownerAddress,"onUpdate:value":r[0]||(r[0]=n=>a(e).ownerAddress=n),attributes:{ariaLabel:"address"},items:s.value},null,8,["value","items"])])]))}});var g=(i=>(i.CreateMosaic="CreateMosaic",i.RelatedMosaic="RelatedMosaic",i))(g||{});const Le={class:"container animate__animated animate__fadeIn"},Ue={class:"my-2"},De={class:"row my-2"},Ne={class:"col-lg-3 d-lg-grid gap-lg-2 mt-2 mb-auto"},Be={class:"col-lg-9 tab-content"},qe=$({__name:"TopView",setup(i){const l=F(),t=k(),e=C(g.CreateMosaic);t.ownerAddress="";function s(){e.value=g.CreateMosaic}function u(){e.value=g.RelatedMosaic}return(r,n)=>(m(),v("article",Le,[c(ce),o("section",Ue,[a(l).sssLinked?(m(),w(Re,{key:0})):(m(),w(L,{key:1,"item-name":r.$t("mosaicInfo.address"),placeholder:r.$t("writer.pleaseInputItem",{item:r.$t("mosaicInfo.address")}),value:a(t).ownerAddress,"onUpdate:value":n[0]||(n[0]=p=>a(t).ownerAddress=p)},null,8,["item-name","placeholder","value"]))]),o("section",De,[o("div",Ne,[o("div",{class:M(["col-6 col-lg-12 btn text-lg-start",{"btn-success":e.value===a(g).CreateMosaic}]),onClick:s},h(r.$t("writer.modeCreate")),3),o("div",{class:M(["col-6 col-lg-12 btn text-lg-start",{"btn-success":e.value===a(g).RelatedMosaic}]),onClick:u},h(r.$t("writer.modeRelated")),3)]),o("div",Be,[e.value===a(g).CreateMosaic?(m(),w(Te,{key:0,class:"animate__animated animate__fadeIn"})):T("",!0),e.value===a(g).RelatedMosaic?(m(),w(de,{key:1,class:"animate__animated animate__fadeIn"})):T("",!0)])])]))}});export{qe as default};
