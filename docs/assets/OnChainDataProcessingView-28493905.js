import{_ as l,o as c,c as p,a as f,d as C,y as S,l as T,g as h,w as x,u as m,h as u,C as a}from"./index-8529961b.js";import{_ as A}from"./ProcessingComponent.vue_vue_type_script_setup_true_lang-928aa8d5.js";import{u as k,W as s}from"./WriteOnChainData-6c74b5a8.js";import"./account-2c35004b.js";import"./mosaic-2acaed25.js";import"./eternalbookprotocol-1dc854f0.js";const w={},D={class:"text-center my-5"},E=f("h3",null,"Complete !",-1),P=[E];function W(_,e){return c(),p("div",D,P)}const N=l(w,[["render",W]]),v=C({__name:"OnChainDataProcessingView",setup(_){const e=S(),i=T(),n=k(),o=h("");x([()=>n.progress,e.locale],()=>{const r="write data progress watch:";i.logger.debug(r,"start",n.progress),o.value=d(n.progress),i.logger.debug(r,"end",o.value)},{immediate:!0}),n.writeOnChain();function d(r){const g=Math.ceil(n.dataBase64.length/(a.TX_DATASIZE_PER_TRANSFER*a.TX_DATA_TX_NUM)),t=Math.ceil(n.processedSize/(a.TX_DATASIZE_PER_TRANSFER*a.TX_DATA_TX_NUM)).toString()+" / "+g.toString()+" ";switch(r){case s.Preprocess:return t+e.t("message.processing");case s.LockSigning:return t+e.t("message.lockSigning");case s.LockAnnounced:return t+e.t("message.lockAnnounced");case s.LockUnconfirmed:return t+e.t("message.lockUnconfirmed");case s.LockConfirmed:return t+e.t("message.lockConfirmed");case s.TxSigning:return t+e.t("message.txSigning");case s.TxAnnounced:return t+e.t("message.txAnnounced");case s.TxWaitCosign:return t+e.t("message.txWaitCosign");case s.TxUnconfirmed:return t+e.t("message.txUnconfirmed");case s.TxConfirmed:return t+e.t("message.txConfirmed");case s.Complete:return e.t("message.complete");case s.Failed:return e.t("message.failed");case s.Standby:default:return e.t("message.prepare")}}return(r,g)=>m(n).progress===m(s).Complete?(c(),u(N,{key:0})):(c(),u(A,{key:1,message:o.value},null,8,["message"]))}});export{v as default};
